"use strict";(self.webpackChunkag_curl=self.webpackChunkag_curl||[]).push([[839],{8839:(ut,P,m)=>{m.r(P),m.d(P,{DashboardModule:()=>lt});var h=m(9808),U=m(4716);function B(i,t,e,n,s,r,a){try{var l=i[r](a),d=l.value}catch(f){return void e(f)}l.done?t(d):Promise.resolve(d).then(n,s)}function C(i){return function(){var t=this,e=arguments;return new Promise(function(n,s){var r=i.apply(t,e);function a(d){B(r,n,s,a,l,"next",d)}function l(d){B(r,n,s,a,l,"throw",d)}a(void 0)})}}var I=m(1135),re=m(2076),ae=m(6805),o=m(1223),$=m(520),le=m(4004);class de{constructor(t,e,n){this.id=t.gamePk,this.home=e.get(t.teams.home.team.abbreviation),this.away=e.get(t.teams.away.team.abbreviation),this.homeScore=void 0===t.linescore.teams.home.runs?0:t.linescore.teams.home.runs,this.awayScore=void 0===t.linescore.teams.away.runs?0:t.linescore.teams.away.runs,this.homePenaltyScore=0,this.awayPenaltyScore=0,this.active=t.status.detailedState.includes("In Progress"),this.complete=t.status.detailedState.includes("Final"),this.gt=new Date(t.gameDate).getTime(),this.homeImg=t.teams.home.team.link.replace("/api/","https://midfield.mlbstatic.com/").replace("teams","team")+"/spots/24",this.awayImg=t.teams.away.team.link.replace("/api/","https://midfield.mlbstatic.com/").replace("teams","team")+"/spots/24",this.homeUser=n.getUserByAbbr(t.teams.home.team.abbreviation),this.awayUser=n.getUserByAbbr(t.teams.away.team.abbreviation),this.knockout=!t.description.includes("Pool"),this.inning=this.active&&void 0!==t.linescore.currentInningOrdinal&&void 0!==t.linescore.inningHalf?t.linescore.inningHalf+" "+t.linescore.currentInningOrdinal:"",this.round=0,this.knockout&&(this.round=t.description.includes("Quarterfinal")?2:t.description.includes("Semifinal")?3:t.description.includes("Championship")?4:-1),this.teamdb=e,this.draftdb=n}status(){if(this.complete){let t=`FINAL: ${this.awayScore} - ${this.homeScore}`;this.knockout&&this.awayScore===this.homeScore&&(t+=` P[${this.awayPenaltyScore} - ${this.homePenaltyScore}]`);let e=0,n=0;return this.homeUser.abbr()===this.awayUser.abbr()?e=this.getScore(this.home.abbr)+this.getScore(this.away.abbr):(e=this.getScore(this.home.abbr),n=this.getScore(this.away.abbr)),e>0&&n>0&&!this.homeUser.isNone()&&!this.awayUser.isNone()?t+=`, ${this.homeUser.name} +${e}, ${this.awayUser.name} +${n}`:e>0&&!this.homeUser.isNone()?t+=`, ${this.homeUser.name} +${e}`:n>0&&!this.awayUser.isNone()&&(t+=`, ${this.awayUser.name} +${n}`),t}return this.active?`${this.inning}: ${this.awayScore} - ${this.homeScore}`:new Date(this.gt).toLocaleString()}miniStatusTop(){if(this.complete){let t=`FINAL: ${this.awayScore} - ${this.homeScore}`;return this.knockout&&this.awayScore===this.homeScore&&(t+=` P[${this.awayPenaltyScore} - ${this.homePenaltyScore}]`),t}return this.active?`${this.inning}: ${this.awayScore} - ${this.homeScore}`:new Date(this.gt).toLocaleString()}miniStatusBottom(){if(this.complete){let t="",e=0,n=0;return this.homeUser.abbr()===this.awayUser.abbr()?e=this.getScore(this.home.abbr)+this.getScore(this.away.abbr):(e=this.getScore(this.home.abbr),n=this.getScore(this.away.abbr)),e>0&&n>0&&!this.homeUser.isNone()&&!this.awayUser.isNone()?t+=`, ${this.homeUser.name} +${e}, ${this.awayUser.name} +${n}`:e>0&&!this.homeUser.isNone()?t+=`, ${this.homeUser.name} +${e}`:n>0&&!this.awayUser.isNone()&&(t+=`, ${this.awayUser.name} +${n}`),t}return""}tie(){if(this.complete)return!this.knockout&&this.homeScore===this.awayScore;throw Error("Attempted to get winner from incomplete game")}winner(){if(this.complete){if(!this.knockout&&this.homeScore===this.awayScore)throw Error("Game ended in a tie");return this.homeScore===this.awayScore?this.homePenaltyScore>this.awayPenaltyScore?this.home:this.away:this.homeScore>this.awayScore?this.home:this.away}throw Error("Attempted to get winner from incomplete game")}getScore(t){if(!this.complete)return 0;let e=0;2===this.round&&(e=1);let n=0;return 4===this.round&&(n=1),this.tie()?1:this.winner().abbr===t?3+e+n:e}gameStr(){return this.complete?this.tie()?`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}, None, ${this.awayScore}, ${this.homeScore}),`:`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}, ${this.winner().cleanName()}, ${this.awayScore}, ${this.homeScore}),`:`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}),`}}class c{constructor(t,e,n,s,r){this.name=t,this.abbr=e,this.rank=s,this.group=n,this.odds=r}cleanName(){return this.name}}let j=(()=>{class i{constructor(){this.teams=[new c("Chinese Taipei","TPE","A",9,5e3),new c("Cuba","CUB","A",7,2e3),new c("Italy","ITA","A",16,15e3),new c("Netherlands","NED","A",11,6500),new c("Panama","PAN","A",15,15e3),new c("Australia","AUS","B",13,13e3),new c("China","CHN","B",17,2e4),new c("Czech Republic","CZE","B",20,5e4),new c("Japan","JPN","B",3,300),new c("Korea","KOR","B",6,1200),new c("Canada","CAN","C",10,5e3),new c("Colombia","COL","C",12,13e3),new c("Great Britain","GBR","C",19,5e4),new c("Mexico","MEX","C",8,2200),new c("USA","USA","C",2,275),new c("Dominican Republic","DOM","D",1,200),new c("Israel","ISR","D",14,15e3),new c("Nicaragua","NCA","D",18,2e4),new c("Puerto Rico","PUR","D",5,1100),new c("Venezuela","VEN","D",4,1100),new c("A1","A1","A",1,1e5),new c("B1","B1","B",2,1e5),new c("C1","C1","C",3,1e5),new c("D1","D1","D",4,1e5),new c("A2","A2","A",5,1e5),new c("B2","B2","B",6,1e5),new c("C2","C2","C",7,1e5),new c("D2","D2","D",8,1e5),new c("Q1W","Q1W","A",1,1e5),new c("Q2W","Q2W","B",2,1e5),new c("Q3W","Q3W","C",3,1e5),new c("Q4W","Q4W","D",4,1e5),new c("S1W","S1W","A",1,1e5),new c("S2W","S2W","B",2,1e5)]}get(e){if(3===e.length){for(const s of this.teams)if(s.abbr===e)return s;throw new Error("Unable to find team with abbreviation "+e)}let n=e;"IR Iran"===n&&(n="Iran");for(const s of this.teams)if(s.name===n)return s;throw new Error("Unable to find team with name "+n)}all(){return this.teams}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class y{constructor(t){this.name=t}abbr(){return this.name.length>0?`[${this.name.charAt(0)}]`:""}full(){return this.name.length>0?`- ${this.name}`:""}isNone(){return""===this.name}}let D=(()=>{class i{constructor(){this.users=[new y("Andrew"),new y("Brad"),new y("Cooper"),new y("Ryan")],this.none=new y("")}get(e){for(const n of this.users)if(n.name===e)return n;throw new Error("Unable to find user with name "+e)}all(){return this.users}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class T{constructor(t,e){this.user=t,this.teams=e}}let S=(()=>{class i{constructor(e,n){this.userdb=e,this.teamdb=n,this.drafts=[new T(e.get("Andrew"),[n.get("VEN"),n.get("PUR"),n.get("AUS"),n.get("COL"),n.get("NCA")]),new T(e.get("Brad"),[n.get("USA"),n.get("MEX"),n.get("NED"),n.get("ISR"),n.get("CZE")]),new T(e.get("Cooper"),[n.get("DOM"),n.get("CUB"),n.get("TPE"),n.get("ITA"),n.get("CHN")]),new T(e.get("Ryan"),[n.get("VEN"),n.get("PUR"),n.get("AUS"),n.get("COL"),n.get("NCA")])]}getUserByAbbr(e){for(const n of this.drafts)for(const s of n.teams)if(s.abbr===e)return n.user;return this.userdb.none}getDraftByUser(e){for(const n of this.drafts)if(n.user.name===e)return n;throw new Error("Unable to find draft for user named "+e)}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(D),o.LFG(j))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ue=(()=>{class i{constructor(e,n,s,r){this.http=e,this.teamdb=n,this.userdb=s,this.draftdb=r,this.apiUrl="https://bdfed.stitch.mlbinfra.com/bdfed/transform-mlb-schedule?stitch_env=prod&sortTemplate=5&sportId=51&startDate=2023-03-7&endDate=2023-03-21&gameType=S&&gameType=R&&gameType=F&&gameType=D&&gameType=L&&gameType=W&&gameType=A&language=en&leagueId=159&&leagueId=160&contextTeamId=",this.httpOptions={headers:new $.WM({"Content-Type":"application/json"})}}getGames(){const e=new URL(this.apiUrl);return this.http.get(e.href).pipe((0,le.U)(n=>{const s=[];for(const a of n.dates)for(const l of a.games)try{s.push(new de(l,this.teamdb,this.draftdb))}catch(d){console.log(d)}return s.sort((a,l)=>a.gt-l.gt),s.sort((a,l)=>a.gt-l.gt)}))}}return i.\u0275fac=function(e){return new(e||i)(o.LFG($.eN),o.LFG(j),o.LFG(D),o.LFG(S))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function he(i,t){if(1&i&&(o.TgZ(0,"div",2),o.TgZ(1,"div"),o.TgZ(2,"h3"),o._uU(3),o.qZA(),o.qZA(),o._UZ(4,"span",3),o.TgZ(5,"div"),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA()),2&i){const e=t.$implicit;o.xp6(3),o.hij("",e[0],":"),o.xp6(4),o.AsE("",e[1][0]," / ",e[1][1],"")}}let me=(()=>{class i{constructor(e,n){this.userdb=e,this.draftdb=n,this.drafts=[],this.games=[],this.scores={}}ngOnInit(){const e=[];for(const n of this.userdb.all())this.scores[n.name]=[0,0],e.push([n.name,[0,0]]);this.scoreSubject$=new I.X(e),this.scores$=this.scoreSubject$.asObservable(),this.drafts$.subscribe(n=>{this.drafts=n,this.updateScore()}),this.games$.subscribe(n=>{this.games=n,this.updateScore()})}updateScore(){for(const n of this.userdb.all()){let s=0,r=0;const a=this.draftdb.getDraftByUser(n.name);for(const l of a.teams)for(const d of this.games.filter(f=>f.home.abbr===l.abbr||f.away.abbr===l.abbr))d.complete&&s++,r+=d.getScore(l.abbr);this.scores[n.name]=[r,s]}const e=[];for(const[n,s]of Object.entries(this.scores).sort((r,a)=>r[1][0]===a[1][0]?r[0].localeCompare(a[0]):a[1][0]-r[1][0]))e.push([n,s]);this.scoreSubject$.next(e)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(D),o.Y36(S))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-score-list"]],inputs:{drafts$:"drafts$",games$:"games$"},decls:3,vars:3,consts:[[1,"score"],["class","score-content",4,"ngFor","ngForOf"],[1,"score-content"],[1,"flexExpand"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.YNc(1,he,8,3,"div",1),o.ALo(2,"async"),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,n.scores$)))},directives:[h.sg],pipes:[h.Ov],styles:["h3[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-bottom:0;margin-left:10px;background-color:inherit}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}.score-content[_ngcontent-%COMP%]{display:flex}.score[_ngcontent-%COMP%]{max-width:150px}"]}),i})(),fe=(()=>{class i{constructor(){this.isMobileResolution=window.innerWidth<=768,this.ismobileResolution$=new I.X(this.isMobileResolution)}getIsMobileResolution(){return this.isMobileResolution}watchIsMobileResolution(){return this.ismobileResolution$.asObservable()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pe=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function ge(){return(0,o.f3M)(h.K0)}}),_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let x,ye=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function ve(i){const t=(null==i?void 0:i.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(pe,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})();try{x="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){x=!1}let be=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(o.Lbi))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const W="cdk-high-contrast-black-on-white",q="cdk-high-contrast-white-on-black",F="cdk-high-contrast-active";let Pe=(()=>{class i{constructor(e,n){this._platform=e,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(F),e.remove(W),e.remove(q),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(e.add(F),e.add(W)):2===n&&(e.add(F),e.add(q))}}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(be),o.LFG(h.K0))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Be=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ue(){return!0}});let w=(()=>{class i{constructor(e,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function Ee(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(Pe),o.LFG(Be,8),o.LFG(h.K0))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[G],G]}),i})(),X=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[w],w]}),i})();function N(i,t=0){return function Ve(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}const ie=["*"];class Ke{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(n=>this._trackTile(n))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Ye(this.rowIndex,e)}_findMatchingGap(t){let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class Ye{constructor(t,e){this.row=t,this.col=e}}const ne=new o.OlP("MAT_GRID_LIST");let oe=(()=>{class i{constructor(e,n){this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(N(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(N(e))}_setStyle(e,n){this._element.nativeElement.style[e]=n}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq),o.Y36(ne,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,n){2&e&&o.uIk("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:ie,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,n){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})();const We=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class L{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,s){this._gutterSize=se(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=s}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":g(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let s=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,s,r),this.setRowStyles(t,e,s,r)}setColStyles(t,e,n,s){let r=this.getBaseTileSize(n,s);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",g(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class qe extends L{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,s){super.init(t,e,n,s),this.fixedRowHeight=se(this.fixedRowHeight),We.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",g(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",g(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Qe extends L{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,s){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,s),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",g(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",g(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Xe extends L{setRowStyles(t,e){let r=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(r,e)),t._setStyle("height",g(this.getTileSize(r,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function g(i){return`calc(${i})`}function se(i){return i.match(/([A-Za-z%]+)$/)?i:`${i}px`}let et=(()=>{class i{constructor(e,n){this._element=e,this._dir=n,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(N(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const n=`${null==e?"":e}`;n!==this._rowHeight&&(this._rowHeight=n,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Xe:e&&e.indexOf(":")>-1?new Qe(e):new qe(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Ke);const e=this._tileCoordinator,n=this._tiles.filter(r=>!r._gridList||r._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,s),n.forEach((r,a)=>{const l=e.positions[a];this._tileStyler.setStyle(r,l.row,l.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq),o.Y36(ye,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-grid-list"]],contentQueries:function(e,n,s){if(1&e&&o.Suo(s,oe,5),2&e){let r;o.iGM(r=o.CRH())&&(n._tiles=r)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,n){2&e&&o.uIk("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:ne,useExisting:i}])],ngContentSelectors:ie,decls:2,vars:0,template:function(e,n){1&e&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})(),tt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[X,w],X,w]}),i})();function it(i,t){if(1&i&&(o.TgZ(0,"mat-grid-list",4),o.TgZ(1,"mat-grid-tile",5),o.TgZ(2,"div",6),o._UZ(3,"img",7),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"mat-grid-tile",5),o.TgZ(6,"div",6),o._UZ(7,"img",7),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"mat-grid-tile",8),o.TgZ(10,"div",9),o._uU(11),o.qZA(),o.qZA(),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.away.abbr?"win":"lose":"no-contest"),o.xp6(2),o.s9C("src",e.awayImg,o.LSH),o.xp6(1),o.lnq(" ",e.away.rank,". ",e.away.name," ",e.awayUser.full()," "),o.xp6(1),o.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.home.abbr?"win":"lose":"no-contest"),o.xp6(2),o.s9C("src",e.homeImg,o.LSH),o.xp6(1),o.lnq(" ",e.home.rank,". ",e.home.name," ",e.homeUser.full()," "),o.xp6(3),o.hij(" ",e.status()," ")}}function nt(i,t){if(1&i&&(o.TgZ(0,"div"),o.TgZ(1,"div",2),o.YNc(2,it,12,11,"mat-grid-list",3),o.ALo(3,"async"),o.qZA(),o.qZA()),2&i){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.games$))}}function ot(i,t){if(1&i&&(o.TgZ(0,"mat-grid-list",4),o.TgZ(1,"mat-grid-tile",5),o.TgZ(2,"div",6),o._UZ(3,"img",10),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"mat-grid-tile",5),o.TgZ(6,"div",6),o._UZ(7,"img",10),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"mat-grid-tile",8),o.TgZ(10,"div",9),o._uU(11),o._UZ(12,"br"),o._uU(13),o.qZA(),o.qZA(),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.away.abbr?"win":"lose":"no-contest"),o.xp6(2),o.s9C("src",e.awayImg,o.LSH),o.xp6(1),o.AsE(" ",e.away.abbr," ",e.awayUser.abbr()," "),o.xp6(1),o.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.home.abbr?"win":"lose":"no-contest"),o.xp6(2),o.s9C("src",e.homeImg,o.LSH),o.xp6(1),o.AsE(" ",e.home.abbr," ",e.homeUser.abbr()," "),o.xp6(3),o.hij(" ",e.miniStatusTop()," "),o.xp6(2),o.hij(" ",e.miniStatusBottom()," ")}}function st(i,t){if(1&i&&(o.TgZ(0,"div",2),o.YNc(1,ot,14,10,"mat-grid-list",3),o.ALo(2,"async"),o.qZA()),2&i){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.games$))}}let rt=(()=>{class i{constructor(e){this.appState=e,this.isMobile=e.getIsMobileResolution()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(fe))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-game-list"]],inputs:{games$:"games$"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["mobile",""],[1,"list-container"],["cols","18","rowHeight","3em",4,"ngFor","ngForOf"],["cols","18","rowHeight","3em"],["colspan","5",3,"ngClass"],[1,"team-name"],[1,"team-img",3,"src"],["colspan","8"],[1,"game-status"],[1,"team-img-mini",3,"src"]],template:function(e,n){if(1&e&&(o.YNc(0,nt,4,3,"div",0),o.YNc(1,st,3,3,"ng-template",null,1,o.W1O)),2&e){const s=o.MAs(2);o.Q6J("ngIf",!n.isMobile)("ngIfElse",s)}},directives:[h.O5,h.sg,et,oe,h.mk],pipes:[h.Ov],styles:[".mat-grid-list[_ngcontent-%COMP%]{max-width:800px}.mat-grid-tile[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#1e1e1e;background-color:#464646}.team-name[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%}.game-status[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;color:#fff;padding-left:3px}.game-status-mini[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;border-left:1px;border-style:solid;border-color:#1e1e1e;padding-left:3px;font-size:.6em}.team-img[_ngcontent-%COMP%]{font-weight:700;padding-left:5px;padding-right:5px}.team-img-mini[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;max-height:1.5em}.tie[_ngcontent-%COMP%]{color:#dcdc28}.win[_ngcontent-%COMP%]{color:#5fff5f}.lose[_ngcontent-%COMP%]{color:#ff5f5f}.no-contest[_ngcontent-%COMP%]{color:#fff}"]}),i})();const at=[{path:"",component:(()=>{class i{constructor(e,n){this.fifaapi=e,this.draftdb=n}ngOnDestroy(){console.log("Shutting down dashboard update"),clearInterval(this.updateInterval)}ngOnInit(){var e=this;return C(function*(){e.allGamesSub$=new I.X(new Array),e.allGames$=e.allGamesSub$.asObservable(),e.allDrafts$=(0,re.D)([e.draftdb.drafts]);const n=(yield e.updateGames()).sort((s,r)=>s.gt-r.gt);e.allGamesSub$.next(n),e.updateInterval=setInterval(C(function*(){const s=yield e.updateGames();e.allGamesSub$.next(s)}),2e4)})()}updateGames(){var e=this;return C(function*(){return function ce(i,t){const e="object"==typeof t;return new Promise((n,s)=>{let a,r=!1;i.subscribe({next:l=>{a=l,r=!0},error:s,complete:()=>{r?n(a):e?n(t.defaultValue):s(new ae.K)}})})}(e.fifaapi.getGames())})()}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(ue),o.Y36(S))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-dashboard"]],decls:5,vars:3,consts:[[1,"dashboard-content"],[1,"score-flex-item"],[3,"drafts$","games$"],[1,"game-flex-item"],[1,"flex-item",3,"games$"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-score-list",2),o.qZA(),o.TgZ(3,"div",3),o._UZ(4,"app-game-list",4),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("drafts$",n.allDrafts$)("games$",n.allGames$),o.xp6(2),o.Q6J("games$",n.allGames$))},directives:[me,rt],styles:["h1[_ngcontent-%COMP%]{color:#fff;font-size:50px;font-weight:bolder}h2[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-bottom:0}h3[_ngcontent-%COMP%]{color:#fff;font-size:15px;margin-bottom:0}a[_ngcontent-%COMP%]{color:#5eccd6;border-bottom:2px solid transparent;transition:.5s border-bottom}.dashboard-header[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;padding-top:1%}.dashboard-content[_ngcontent-%COMP%]{display:block;margin-top:10px}.game-flex-item[_ngcontent-%COMP%]{flex-grow:5;margin-right:10px}.pick-flex-item[_ngcontent-%COMP%]{flex-grow:4;margin-right:10px}.score-flex-item[_ngcontent-%COMP%]{flex-grow:1}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.dashboard-content[_ngcontent-%COMP%]{display:block}.game-flex-item[_ngcontent-%COMP%], .pick-flex-item[_ngcontent-%COMP%]{margin-right:0}}.week-selector[_ngcontent-%COMP%]{margin-top:5px;background-color:#fff;width:min-content;height:51px}"]}),i})()}];let ct=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[U.Bz.forChild(at)],U.Bz]}),i})(),lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[h.ez,ct,tt]]}),i})()}}]);