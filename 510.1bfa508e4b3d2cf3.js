"use strict";(self.webpackChunkag_curl=self.webpackChunkag_curl||[]).push([[510],{510:(dt,P,m)=>{m.r(P),m.d(P,{DashboardModule:()=>lt});var f=m(808),G=m(140),E=m(135),se=m(76),re=m(805),s=m(223),U=m(520),le=m(4);function C(i=0,t=1){const e=1-Math.random(),n=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*n)*t+i}class ce{constructor(t,e,n){this.result=t,this.teamdb=e,this.draftdb=n,this.result=t,this.initalizeFromResult()}initalizeFromResult(){var t,e;this.id=this.result.MatchNumber,this.home=this.teamdb.get((null===(t=this.result.Home)||void 0===t?void 0:t.Abbreviation)?this.result.Home.Abbreviation:this.result.PlaceHolderA),this.away=this.teamdb.get((null===(e=this.result.Away)||void 0===e?void 0:e.Abbreviation)?this.result.Away.Abbreviation:this.result.PlaceHolderB),this.homeGoals=null===this.result.HomeTeamScore?0:this.result.HomeTeamScore,this.awayGoals=null===this.result.AwayTeamScore?0:this.result.AwayTeamScore,this.homePenaltyGoals=null===this.result.HomeTeamPenaltyScore?0:this.result.HomeTeamPenaltyScore,this.awayPenaltyGoals=null===this.result.AwayTeamPenaltyScore?0:this.result.AwayTeamPenaltyScore,this.active=3===this.result.MatchStatus,this.complete=0===this.result.MatchStatus,this.gt=new Date(this.result.LocalDate).getTime()-108e5,this.homeUser=this.draftdb.getUserByAbbr(this.home.abbr),this.awayUser=this.draftdb.getUserByAbbr(this.away.abbr),this.knockout="first stage"!==this.result.StageName[0].Description.toLowerCase(),this.round=0,this.knockout&&(this.round="Round of 16"===this.result.StageName[0].Description?1:"Quarter-final"===this.result.StageName[0].Description?2:"Semi-final"===this.result.StageName[0].Description?3:"Final"===this.result.StageName[0].Description?4:-1)}status(){if(this.complete){let t=`FINAL: ${this.awayGoals} - ${this.homeGoals}`;this.knockout&&this.awayGoals===this.homeGoals&&(t+=` P[${this.awayPenaltyGoals} - ${this.homePenaltyGoals}]`);let e=0,n=0;return this.homeUser.name===this.awayUser.name?e=this.getAwardedPoints(this.home.abbr)+this.getAwardedPoints(this.away.abbr):(e=this.getAwardedPoints(this.home.abbr),n=this.getAwardedPoints(this.away.abbr)),e>0&&n>0&&!this.homeUser.isNone()&&!this.awayUser.isNone()?t+=`, ${this.homeUser.name} +${e}, ${this.awayUser.name} +${n}`:e>0&&!this.homeUser.isNone()?t+=`, ${this.homeUser.name} +${e}`:n>0&&!this.awayUser.isNone()&&(t+=`, ${this.awayUser.name} +${n}`),t}return this.active?`IN PROGRESS: ${this.awayGoals} - ${this.homeGoals}`:new Date(this.gt).toLocaleString()}miniStatusTop(){if(this.complete){let t=`FINAL: ${this.awayGoals} - ${this.homeGoals}`;return this.knockout&&this.awayGoals===this.homeGoals&&(t+=` P[${this.awayPenaltyGoals} - ${this.homePenaltyGoals}]`),t}return this.active?`IN PROGRESS: ${this.awayGoals} - ${this.homeGoals}`:new Date(this.gt).toLocaleString()}miniStatusBottom(){if(this.complete){let t="",e=0,n=0;return this.homeUser.abbr()===this.awayUser.abbr()?e=this.getAwardedPoints(this.home.abbr)+this.getAwardedPoints(this.away.abbr):(e=this.getAwardedPoints(this.home.abbr),n=this.getAwardedPoints(this.away.abbr)),e>0&&n>0&&!this.homeUser.isNone()&&!this.awayUser.isNone()?t+=`${this.homeUser.name} +${e}, ${this.awayUser.name} +${n}`:e>0&&!this.homeUser.isNone()?t+=`${this.homeUser.name} +${e}`:n>0&&!this.awayUser.isNone()&&(t+=`${this.awayUser.name} +${n}`),t}return""}roundStr(){return 1===this.round?"16":2===this.round?"QF":3===this.round?"SF":4===this.round?"F":""}tie(t){if(this.complete||t)return!this.knockout&&(t?t.homeGoals:this.homeGoals)===(t?t.awayGoals:this.awayGoals);throw Error("Attempted to get winner from incomplete game")}winner(t){if(this.complete||t){const e=t?this.teamdb.get(t.homeTeamAbbr):this.home,n=t?this.teamdb.get(t.awayTeamAbbr):this.away,o=t?t.homeGoals:this.homeGoals,r=t?t.awayGoals:this.awayGoals,l=t?t.homePenaltyGoals:this.homePenaltyGoals,c=t?t.awayPenaltyGoals:this.awayPenaltyGoals;return o===r?l>c?e:n:o>r?e:n}throw Error("Attempted to get winner from incomplete game")}winnerAbbr(t){if(this.complete||t){const e=t?t.homeTeamAbbr:this.home.abbr,n=t?t.awayTeamAbbr:this.away.abbr,o=t?t.homeGoals:this.homeGoals,r=t?t.awayGoals:this.awayGoals,l=t?t.homePenaltyGoals:this.homePenaltyGoals,c=t?t.awayPenaltyGoals:this.awayPenaltyGoals;return o===r?l>c?e:n:o>r?e:n}throw Error("Attempted to get winner from incomplete game")}winnerLogOdds(t){if(this.complete||t){const e=t?t.homeLogOdds:this.home.logOdds,n=t?t.awayLogOdds:this.away.logOdds,o=t?t.homeGoals:this.homeGoals,r=t?t.awayGoals:this.awayGoals,l=t?t.homePenaltyGoals:this.homePenaltyGoals,c=t?t.awayPenaltyGoals:this.awayPenaltyGoals;return o===r?l>c?e:n:o>r?e:n}throw Error("Attempted to get winner from incomplete game")}getAwardedPoints(t,e){if(!this.complete&&!e||-1===this.round)return 0;let n=0;1===this.round&&(n=1);let o=0;return 4===this.round&&(o=1),this.tie(e)?1:this.winnerAbbr(e)===t?3+n+o:n}gameStr(){return this.complete?this.tie()?`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}, None, ${this.awayGoals}, ${this.homeGoals}),`:`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}, ${this.winner().cleanName()}, ${this.awayGoals}, ${this.homeGoals}),`:`Game(${this.away.cleanName()}, ${this.home.cleanName()}, ${this.round}),`}simulate(t,e,n){if(this.complete)return{homeTeamAbbr:this.home.abbr,awayTeamAbbr:this.away.abbr,winnerTeamAbbr:this.winnerAbbr(),homeLogOdds:this.home.logOdds,awayLogOdds:this.away.logOdds,homeGoals:this.homeGoals,awayGoals:this.awayGoals,homePenaltyGoals:this.homePenaltyGoals,awayPenaltyGoals:this.awayPenaltyGoals,homeAwardedPoints:this.getAwardedPoints(this.home.abbr),awayAwardedPoints:this.getAwardedPoints(this.away.abbr),round:this.round,group:this.home.group};let o={homeTeamAbbr:this.home.abbr,awayTeamAbbr:this.away.abbr,winnerTeamAbbr:"",homeLogOdds:this.home.logOdds,awayLogOdds:this.away.logOdds,homeGoals:0,awayGoals:0,homePenaltyGoals:0,awayPenaltyGoals:0,homeAwardedPoints:0,awayAwardedPoints:0,round:this.round};if(0===this.round&&(o.group=this.home.group),0===this.home.rank){if(1===this.round&&n){const c=Number(this.home.name[0])-1,u=this.home.name[1];o.homeTeamAbbr=n[u][c].abbr,o.homeLogOdds=n[u][c].logOdds}else if("W"===this.home.name[0]){const c=Number(this.home.name.substring(1))-1;o.homeTeamAbbr=this.winnerAbbr(e[c]),o.homeLogOdds=this.winnerLogOdds(e[c])}t&&(this.home=this.teamdb.get(o.homeTeamAbbr),this.homeUser=this.draftdb.getUserByAbbr(o.homeTeamAbbr))}if(0===this.away.rank){if(1===this.round&&n){const c=Number(this.away.name[0])-1,u=this.away.name[1];o.awayTeamAbbr=n[u][c].abbr,o.awayLogOdds=n[u][c].logOdds}else if("W"===this.away.name[0]){const c=Number(this.away.name.substring(1))-1;o.awayTeamAbbr=this.winnerAbbr(e[c]),o.awayLogOdds=this.winnerLogOdds(e[c])}t&&(this.away=this.teamdb.get(o.awayTeamAbbr),this.awayUser=this.draftdb.getUserByAbbr(o.awayTeamAbbr))}let r=0,l=0;if(o.homeLogOdds>o.awayLogOdds?l=o.homeLogOdds-o.awayLogOdds:r=o.awayLogOdds-o.homeLogOdds,o.homeGoals=C(.5,1)+r,o.awayGoals=C(.5,1)+l,o.homeGoals<0&&(o.awayGoals-=o.homeGoals,o.homeGoals=0),o.awayGoals<0&&(o.homeGoals-=o.awayGoals,o.awayGoals=0),o.homeGoals=Math.round(o.homeGoals),o.awayGoals=Math.round(o.awayGoals),t&&(this.homeGoals=o.homeGoals,this.awayGoals=o.awayGoals),o.homeGoals===o.awayGoals&&this.knockout){for(;o.homePenaltyGoals===o.awayPenaltyGoals;)o.homePenaltyGoals=Math.round(5*Math.random()),o.awayPenaltyGoals=Math.round(5*Math.random());t&&(this.homePenaltyGoals=o.homePenaltyGoals,this.awayPenaltyGoals=o.awayPenaltyGoals)}return o.homeAwardedPoints=this.getAwardedPoints(this.home.abbr,o),o.awayAwardedPoints=this.getAwardedPoints(this.away.abbr,o),o.winnerTeamAbbr=this.winnerAbbr(o),t&&(this.active=!1,this.complete=!0,this.home.registerGame(this),this.away.registerGame(this)),o}includesTeam(t){return this.away.abbr===t.abbr||this.home.abbr===t.abbr}compare(t){return!(this.active!==t.active||this.complete!==t.complete||this.awayGoals!==t.awayGoals||this.homeGoals!==t.homeGoals||this.awayPenaltyGoals!==t.awayPenaltyGoals||this.homePenaltyGoals!==t.homePenaltyGoals)}}class a{constructor(t,e,n,o,r){this.games=[],this.name=t,this.abbr=e,this.rank=o,this.group=n,this.odds=r,this.logOdds=Math.log10(this.odds),this.rrScore=0,this.totalScore=0,this.imgURL=this.rank>0?`https://api.fifa.com/api/v3/picture/flags-sq-1/${this.abbr}`:""}registerGame(t){if(this.games.push(t),t.complete){const e=t.getAwardedPoints(this.abbr);this.totalScore+=e,t.knockout||(this.rrScore+=e)}}cleanName(){return"Republic of Ireland"===this.name?"Ireland":"Korea Republic"===this.name?"Korea":"China PR"===this.name?"China":"W49"===this.name?"1A|2C":"W50"===this.name?"1C|2A":"W51"===this.name?"1E|2G":"W52"===this.name?"1G|2E":"W53"===this.name?"1D|2B":"W54"===this.name?"1B|2D":"W55"===this.name?"1H|2F":"W56"===this.name?"1B|2D":"W57"===this.name?"1A|2C|1E|2G":"W58"===this.name?"1C|2A|1G|2E":"W59"===this.name?"1D|2B|1H|2F":"W60"===this.name?"1B|2D|1B|2D":"W61"===this.name?"WA|WC|WE|WG":"W62"===this.name?"WB|WD|WF|WH":this.name}resetGames(){this.games=[],this.totalScore=0,this.rrScore=0}rrSort(t){if(this.rrScore===t.rrScore){const e=this.games.filter(n=>n.includesTeam(t));return 0===e.length||e[0].tie()?Math.random()-.5:e[0].winner().abbr===this.abbr?-1:1}return t.rrScore-this.rrScore}}let I=(()=>{class i{constructor(){this.teams=[new a("New Zealand","NZL","A",15,6500),new a("Norway","NOR","A",11,4e3),new a("Philippines","PHI","A",29,5e4),new a("Switzerland","SUI","A",23,25e3),new a("Australia","AUS","B",6,1200),new a("Republic of Ireland","IRL","B",19,15e3),new a("Nigeria","NGA","B",25,25e3),new a("Canada","CAN","B",10,2500),new a("Spain","ESP","C",3,650),new a("Costa Rica","CRC","C",31,5e4),new a("Zambia","ZAM","C",27,5e4),new a("Japan","JPN","C",12,4e3),new a("England","ENG","D",2,350),new a("Haiti","HAI","D",21,15e3),new a("Denmark","DEN","D",13,5e3),new a("China PR","CHN","D",17,8e3),new a("USA","USA","E",1,250),new a("Vietnam","VIE","E",28,5e4),new a("Netherlands","NED","E",8,1600),new a("Portugal","POR","E",18,1e4),new a("France","FRA","F",5,750),new a("Jamaica","JAM","F",30,5e4),new a("Brazil","BRA","F",9,2500),new a("Panama","PAN","F",32,5e4),new a("Sweden","SWE","G",7,1400),new a("South Africa","RSA","G",24,25e3),new a("Italy","ITA","G",16,6500),new a("Argentina","ARG","G",22,2e4),new a("Germany","GER","H",4,650),new a("Morocco","MAR","H",26,25e3),new a("Colombia","COL","H",20,15e3),new a("Korea Republic","KOR","H",14,6500),new a("1A","1A","X",0,.001),new a("2C","2C","X",0,.001),new a("1C","1C","X",0,.001),new a("2A","2A","X",0,.001),new a("1E","1E","X",0,.001),new a("2G","2G","X",0,.001),new a("1G","1G","X",0,.001),new a("2E","2E","X",0,.001),new a("1D","1D","X",0,.001),new a("2B","2B","X",0,.001),new a("1B","1B","X",0,.001),new a("2D","2D","X",0,.001),new a("1H","1H","X",0,.001),new a("2F","2F","X",0,.001),new a("1F","1F","X",0,.001),new a("2H","2H","X",0,.001),new a("W49","W49","X",0,.001),new a("W51","W51","X",0,.001),new a("W50","W50","X",0,.001),new a("W52","W52","X",0,.001),new a("W53","W53","X",0,.001),new a("W55","W55","X",0,.001),new a("W54","W54","X",0,.001),new a("W56","W56","X",0,.001),new a("W57","W57","X",0,.001),new a("W58","W58","X",0,.001),new a("W59","W59","X",0,.001),new a("W60","W60","X",0,.001),new a("RU61","RU61","X",0,.001),new a("RU62","RU62","X",0,.001),new a("W61","W61","X",0,.001),new a("W62","W62","X",0,.001)]}get(e){if(3===e.length){for(const o of this.teams)if(o.abbr===e)return o;throw new Error("Unable to find team with abbreviation "+e)}let n=e;"IR Iran"===n&&(n="Iran");for(const o of this.teams)if(o.name===n)return o;throw new Error("Unable to find team with name "+n)}all(){return this.teams}resetGames(){this.teams.forEach(e=>e.resetGames())}teamsByGroup(){const e={};return this.teams.filter(n=>n.rank>0).forEach(n=>{n.group in e||(e[n.group]={}),e[n.group][n.abbr]={logOdds:n.logOdds,score:0,simulations:[]}}),e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class B{constructor(t,e){this.user=t,this.teams=e}score(){return this.teams.reduce((t,e)=>t+e.totalScore,0)}toString(){return`${this.user.full()}: ${this.teams.map(t=>t.abbr).join(",")} ${this.score()}`}}class p{constructor(t){this.name=t}abbr(){return this.name.length>0?`[${this.name.charAt(0)}]`:""}full(){return this.name.length>0?`- ${this.name}`:""}isNone(){return""===this.name}}let D=(()=>{class i{constructor(){this.users=[new p("Andrew"),new p("Bardia"),new p("Cooper"),new p("Keegan"),new p("Micah"),new p("Ryan"),new p("SBrad"),new p("TJ")],this.none=new p("")}get(e){for(const n of this.users)if(n.name===e)return n;throw new Error("Unable to find user with name "+e)}all(){return this.users}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),O=(()=>{class i{constructor(e,n){this.userdb=e,this.teamdb=n,this.drafts=[],e.all().forEach(o=>this.drafts.push(new B(o,[])))}getUserByAbbr(e){for(const n of this.drafts)for(const o of n.teams)if(o.abbr===e)return n.user;return this.userdb.none}getDraftByUser(e){for(const n of this.drafts)if(n.user.name===e)return n;throw new Error("Unable to find draft for user named "+e)}mockDraft(){const e=this.userdb.all(),n=this.teamdb.all().filter(c=>c.rank>0).sort((c,u)=>c.rank-u.rank);let o=0,r=0,l="up";for(this.drafts=[],e.forEach(c=>this.drafts.push(new B(c,[])));n.length>0;){if(r>=this.drafts.length&&(l="down",r=this.drafts.length-1),r<0){if(++o>=2)break;l="up",r=0}const c=Math.min(Math.floor(Math.abs(C(0,.5))),n.length-1);this.drafts[r].teams.push(n.splice(c,1)[0]),"up"===l?r++:"down"===l&&r--}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(D),s.LFG(I))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),de=(()=>{class i{constructor(e,n,o){this.http=e,this.teamdb=n,this.draftdb=o,this.apiUrl="https://api.fifa.com/api/v3/calendar/matches?language=en&count=500&idSeason=285026",this.httpOptions={headers:new U.WM({"Content-Type":"application/json"})}}getGames(){const e=new URL(this.apiUrl);return this.http.get(e.href).pipe((0,le.U)(n=>{const o=[];for(const r of n.Results)o.push(new ce(r,this.teamdb,this.draftdb));return o}))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(U.eN),s.LFG(I),s.LFG(O))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ue(i,t){if(1&i&&(s.TgZ(0,"div",2)(1,"div")(2,"h3"),s._uU(3),s.qZA()(),s._UZ(4,"span",3),s.TgZ(5,"div")(6,"h3"),s._uU(7),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.hij("",e[0],":"),s.xp6(4),s.lnq("",e[1][0]," / ",e[1][1]," [",e[1][2],"]")}}let he=(()=>{class i{constructor(e,n){this.userdb=e,this.draftdb=n,this.drafts=[],this.games=[],this.scores={}}ngOnInit(){const e=[];for(const n of this.userdb.all())this.scores[n.name]=[0,0,"0"],e.push([n.name,[0,0,"0"]]);this.scoreSubject$=new E.X(e),this.scores$=this.scoreSubject$.asObservable(),this.drafts$.subscribe(n=>{this.drafts=n,this.updateScore()}),this.games$.subscribe(n=>{this.games=n,this.updateScore()})}updateScore(){for(const n of this.userdb.all()){let o=0,r=0,l=0;const c=this.draftdb.getDraftByUser(n.name);for(const u of c.teams)for(const h of this.games.filter(d=>d.home.abbr===u.abbr||d.away.abbr===u.abbr)){h.complete&&r++;let d=h.getAwardedPoints(u.abbr);d>0&&(l+=h.getAwardedPoints(u.abbr)),d>1&&(o+=1)}this.scores[n.name]=[l,r,r>0?(o/r).toFixed(3):".000"]}const e=[];for(const[n,o]of Object.entries(this.scores).sort((r,l)=>r[1][0]===l[1][0]?r[0].localeCompare(l[0]):l[1][0]-r[1][0]))e.push([n,o]);this.scoreSubject$.next(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(D),s.Y36(O))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-score-list"]],inputs:{drafts$:"drafts$",games$:"games$"},decls:3,vars:3,consts:[[1,"score"],["class","score-content",4,"ngFor","ngForOf"],[1,"score-content"],[1,"flexExpand"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.YNc(1,ue,8,4,"div",1),s.ALo(2,"async"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,n.scores$)))},directives:[f.sg],pipes:[f.Ov],styles:["h3[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-bottom:0;margin-left:10px;background-color:inherit}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}.score-content[_ngcontent-%COMP%]{display:flex}.score[_ngcontent-%COMP%]{max-width:250px}"]}),i})(),me=(()=>{class i{constructor(){this.isMobileResolution=window.innerWidth<=768,this.ismobileResolution$=new E.X(this.isMobileResolution)}getIsMobileResolution(){return this.isMobileResolution}watchIsMobileResolution(){return this.ismobileResolution$.asObservable()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fe=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function ge(){return(0,s.f3M)(f.K0)}}),pe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S,be=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function _e(i){const t=(null==i?void 0:i.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?pe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(fe,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();try{S="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){S=!1}let ye=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const K="cdk-high-contrast-black-on-white",Y="cdk-high-contrast-white-on-black",k="cdk-high-contrast-active";let Le=(()=>{class i{constructor(e,n){this._platform=e,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(k),e.remove(K),e.remove(Y),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(e.add(k),e.add(K)):2===n&&(e.add(k),e.add(Y))}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ye),s.LFG(f.K0))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ge=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pe(){return!0}});let T=(()=>{class i{constructor(e,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function we(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Le),s.LFG(Ge,8),s.LFG(f.K0))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[$],$]}),i})(),Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[T],T]}),i})();function N(i,t=0){return function We(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}const te=["*"];class Ve{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(n=>this._trackTile(n))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new ze(this.rowIndex,e)}_findMatchingGap(t){let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class ze{constructor(t,e){this.row=t,this.col=e}}const ie=new s.OlP("MAT_GRID_LIST");let ne=(()=>{class i{constructor(e,n){this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(N(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(N(e))}_setStyle(e,n){this._element.nativeElement.style[e]=n}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(ie,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,n){2&e&&s.uIk("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:te,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,n){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})();const Ke=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class L{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,o){this._gutterSize=oe(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=o}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":b(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let o=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,o,r),this.setRowStyles(t,e,o,r)}setColStyles(t,e,n,o){let r=this.getBaseTileSize(n,o);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",b(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Ye extends L{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,o){super.init(t,e,n,o),this.fixedRowHeight=oe(this.fixedRowHeight),Ke.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",b(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",b(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Xe extends L{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,o){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,o),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",b(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",b(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Qe extends L{setRowStyles(t,e){let r=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(r,e)),t._setStyle("height",b(this.getTileSize(r,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function b(i){return`calc(${i})`}function oe(i){return i.match(/([A-Za-z%]+)$/)?i:`${i}px`}let Je=(()=>{class i{constructor(e,n){this._element=e,this._dir=n,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(N(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const n=`${null==e?"":e}`;n!==this._rowHeight&&(this._rowHeight=n,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Qe:e&&e.indexOf(":")>-1?new Xe(e):new Ye(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Ve);const e=this._tileCoordinator,n=this._tiles.filter(r=>!r._gridList||r._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,o),n.forEach((r,l)=>{const c=e.positions[l];this._tileStyler.setStyle(r,c.row,c.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(be,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-grid-list"]],contentQueries:function(e,n,o){if(1&e&&s.Suo(o,ne,5),2&e){let r;s.iGM(r=s.CRH())&&(n._tiles=r)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,n){2&e&&s.uIk("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:ie,useExisting:i}])],ngContentSelectors:te,decls:2,vars:0,template:function(e,n){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})(),et=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[Q,T],Q,T]}),i})();function tt(i,t){if(1&i&&(s.TgZ(0,"mat-grid-list",4)(1,"mat-grid-tile",5)(2,"div",6),s._uU(3),s.qZA()(),s.TgZ(4,"mat-grid-tile",7)(5,"div",8),s._UZ(6,"img",9),s._uU(7),s.qZA()(),s.TgZ(8,"mat-grid-tile",7)(9,"div",8),s._UZ(10,"img",9),s._uU(11),s.qZA()(),s.TgZ(12,"mat-grid-tile",10)(13,"div",6),s._uU(14),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.hij(" ",e.roundStr()," "),s.xp6(1),s.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.away.abbr?"win":"lose":"no-contest"),s.xp6(2),s.s9C("src",e.away.imgURL,s.LSH),s.xp6(1),s.lnq(" ",e.away.rank>0?e.away.rank.toString()+". ":"","",e.away.cleanName()," ",e.awayUser.full()," "),s.xp6(1),s.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.home.abbr?"win":"lose":"no-contest"),s.xp6(2),s.s9C("src",e.home.imgURL,s.LSH),s.xp6(1),s.lnq(" ",e.home.rank>0?e.home.rank.toString()+". ":"","",e.home.cleanName()," ",e.homeUser.full()," "),s.xp6(3),s.hij(" ",e.status()," ")}}function it(i,t){if(1&i&&(s.TgZ(0,"div")(1,"div",2),s.YNc(2,tt,15,12,"mat-grid-list",3),s.qZA()()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.games)}}function nt(i,t){if(1&i&&(s.TgZ(0,"mat-grid-list",12)(1,"mat-grid-tile",7)(2,"div",8),s._UZ(3,"img",13),s._uU(4),s.qZA()(),s.TgZ(5,"mat-grid-tile",7)(6,"div",8),s._UZ(7,"img",13),s._uU(8),s.qZA()(),s.TgZ(9,"mat-grid-tile",10)(10,"div",6),s._uU(11),s._UZ(12,"br"),s._uU(13),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(1),s.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.away.abbr?"win":"lose":"no-contest"),s.xp6(2),s.s9C("src",e.away.imgURL,s.LSH),s.xp6(1),s.AsE(" ",e.away.abbr," ",e.awayUser.abbr()," "),s.xp6(1),s.Q6J("ngClass",e.complete?e.tie()?"tie":e.winner().abbr===e.home.abbr?"win":"lose":"no-contest"),s.xp6(2),s.s9C("src",e.home.imgURL,s.LSH),s.xp6(1),s.AsE(" ",e.home.abbr," ",e.homeUser.abbr()," "),s.xp6(3),s.hij(" ",e.miniStatusTop()," "),s.xp6(2),s.hij(" ",e.miniStatusBottom()," ")}}function ot(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,nt,14,10,"mat-grid-list",11),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.games)}}let st=(()=>{class i{constructor(e){this.appState=e,this.games=[],this.isMobile=e.getIsMobileResolution()}ngOnInit(){this.games$.subscribe(e=>{0===this.games.length&&(this.games=e);for(let n=0;n<e.length;n++)this.games[n].compare(e[n])||(this.games[n]=e[n])})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(me))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-game-list"]],inputs:{games$:"games$"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["mobile",""],[1,"list-container"],["cols","19","rowHeight","3em",4,"ngFor","ngForOf"],["cols","19","rowHeight","3em"],["colspan","1"],[1,"game-status"],["colspan","5",3,"ngClass"],[1,"team-name"],[1,"team-img",3,"src"],["colspan","8"],["cols","18","rowHeight","3em",4,"ngFor","ngForOf"],["cols","18","rowHeight","3em"],[1,"team-img-mini",3,"src"]],template:function(e,n){if(1&e&&(s.YNc(0,it,3,1,"div",0),s.YNc(1,ot,2,1,"ng-template",null,1,s.W1O)),2&e){const o=s.MAs(2);s.Q6J("ngIf",!n.isMobile)("ngIfElse",o)}},directives:[f.O5,f.sg,Je,ne,f.mk],styles:[".mat-grid-list[_ngcontent-%COMP%]{max-width:800px}.mat-grid-tile[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#1e1e1e;background-color:#464646}.team-name[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%}.game-status[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;color:#fff;padding-left:3px}.game-status-mini[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;border-left:1px;border-style:solid;border-color:#1e1e1e;padding-left:3px;font-size:.6em}.team-img[_ngcontent-%COMP%]{font-weight:700;padding-left:5px;padding-right:5px}.team-img-mini[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;max-height:1.5em}.tie[_ngcontent-%COMP%]{color:#dcdc28}.win[_ngcontent-%COMP%]{color:#5fff5f}.lose[_ngcontent-%COMP%]{color:#ff5f5f}.no-contest[_ngcontent-%COMP%]{color:#fff}"]}),i})();const rt=[{path:"",component:(()=>{class i{constructor(e,n,o,r){this.fifaapi=e,this.teamdb=n,this.userdb=o,this.draftdb=r}ngOnDestroy(){console.log("Shutting down dashboard update"),clearInterval(this.updateInterval)}ngOnInit(){this.allGamesSub$=new E.X(new Array),this.allGames$=this.allGamesSub$.asObservable(),this.allDrafts$=(0,se.D)([this.draftdb.drafts]),this.updateGames().then(e=>{this.allGamesSub$.next(e.filter(n=>n.round>=0))}),this.updateInterval=setInterval(()=>{this.updateGames().then(e=>{this.allGamesSub$.next(e.filter(n=>n.round>=0))})},2e4)}updateGames(){return function ae(i,t){const e="object"==typeof t;return new Promise((n,o)=>{let l,r=!1;i.subscribe({next:c=>{l=c,r=!0},error:o,complete:()=>{r?n(l):e?n(t.defaultValue):o(new re.K)}})})}(this.fifaapi.getGames())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(de),s.Y36(I),s.Y36(D),s.Y36(O))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-dashboard"]],decls:5,vars:3,consts:[[1,"dashboard-content"],[1,"score-flex-item"],[3,"drafts$","games$"],[1,"game-flex-item"],[1,"flex-item",3,"games$"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"app-score-list",2),s.qZA(),s.TgZ(3,"div",3),s._UZ(4,"app-game-list",4),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("drafts$",n.allDrafts$)("games$",n.allGames$),s.xp6(2),s.Q6J("games$",n.allGames$))},directives:[he,st],styles:["h1[_ngcontent-%COMP%]{color:#fff;font-size:50px;font-weight:bolder}h2[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-bottom:0}h3[_ngcontent-%COMP%]{color:#fff;font-size:15px;margin-bottom:0}a[_ngcontent-%COMP%]{color:#5eccd6;border-bottom:2px solid transparent;transition:.5s border-bottom}.dashboard-header[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;padding-top:1%}.dashboard-content[_ngcontent-%COMP%]{display:block;margin-top:10px}.game-flex-item[_ngcontent-%COMP%]{flex-grow:5;margin-right:10px}.pick-flex-item[_ngcontent-%COMP%]{flex-grow:4;margin-right:10px}.score-flex-item[_ngcontent-%COMP%]{flex-grow:1}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.dashboard-content[_ngcontent-%COMP%]{display:block}.game-flex-item[_ngcontent-%COMP%], .pick-flex-item[_ngcontent-%COMP%]{margin-right:0}}.week-selector[_ngcontent-%COMP%]{margin-top:5px;background-color:#fff;width:min-content;height:51px}"]}),i})()}];let at=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[G.Bz.forChild(rt)],G.Bz]}),i})(),lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[f.ez,at,et]]}),i})()}}]);